<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>대학생 거래사이트 - 응모</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="bg-blur"></div>
  <header class="site-header">
    <div class="brand">
      <img class="brand-mark" src="../gnuc.jpg" alt="GNU C 로고" />
      <div>
        <strong>지누켓</strong>
        <span>응모 · 중고거래 · 심부름서비스</span>
      </div>
    </div>
    <div class="header-cta">
      <a class="ghost" href="../index.html">홈</a>
      <button class="primary" type="button">로그인</button>
    </div>
  </header>
<main class="subtab">
    <section class="tab-header">
      <div class="tab-title">
        <p class="tab-path">거래 &gt; 응모</p>
        <h1>응모로 함께 구매하기</h1>
        <p class="tab-desc">
          응모권이 모두 모이면, 참여인원 중 1명에게 랜덤으로 상품을 드립니다.
        </p>
      </div>
      <div class="vote-actions" id="voteActions">
        <button class="vote-box" type="button" id="openVoteDialog" data-vote-start="2026-01-12" data-vote-duration="30">
          <span class="vote-title">응모 품목 투표/추천하기</span>
          <span class="vote-sub">추천 받고 싶은 품목을 남겨주세요</span>
          <span class="vote-mine" id="voteMine" hidden>내 추천: -</span>
          <div class="vote-deadline" aria-live="polite">
            <div class="vote-deadline-label">
              <span>마감까지</span>
              <span class="vote-deadline-days" id="voteDeadlineDays">-</span>
            </div>
            <div class="vote-deadline-bar" aria-hidden="true">
              <div class="vote-deadline-fill" id="voteDeadlineFill"></div>
            </div>
            <div class="vote-deadline-text" id="voteDeadlineText"></div>
          </div>
        </button>
        <button class="vote-box" type="button" id="openPurchaseDialog">
          <span class="vote-title">응모권 구매</span>
          <span class="vote-sub">응모권을 바로 구매해보세요</span>
          <span class="vote-mine" id="purchaseSummary">내 잔여 응모권: 0장</span>
        </button>
      </div>
    </section>

    <section class="funding-grid" id="fundingGrid"></section>
  </main>

  <dialog class="entry-dialog" id="voteDialog" aria-labelledby="voteDialogTitle">
    <form class="dialog-card" method="dialog">
      <div class="dialog-header">
        <h2 id="voteDialogTitle">응모 품목 투표/추천하기</h2>
        <button class="dialog-close" type="button" id="voteDialogClose" aria-label="닫기">×</button>
      </div>

      <div class="dialog-body">
        <label class="field">
          <span class="field-label">추천하고 싶은 품목</span>
          <input id="voteItem" name="voteItem" type="text" placeholder="예: 노이즈캔슬링 이어폰" required />
        </label>

        <div class="vote-status" id="voteStatus" aria-live="polite" hidden>
          이미 추천을 완료했습니다.
        </div>
        <button class="vote-edit" type="button" id="voteEdit" hidden>추천품목 수정하기</button>

        <div class="vote-list">
          <div class="vote-list-title">다른 사용자의 추천</div>
          <div class="vote-items" id="voteItems"></div>
        </div>
      </div>

      <div class="dialog-actions">
        <button class="dialog-secondary" type="button" id="voteDialogCancel">취소</button>
        <button class="dialog-primary" type="submit">추천하기</button>
      </div>
    </form>
  </dialog>

  <dialog class="entry-dialog" id="resultDialog" aria-labelledby="resultDialogTitle">
    <form class="dialog-card" method="dialog">
      <div class="dialog-header">
        <h2 id="resultDialogTitle">추첨 결과</h2>
        <button class="dialog-close" type="button" id="resultDialogClose" aria-label="닫기">×</button>
      </div>

      <div class="dialog-body" id="resultDialogBody"></div>

      <div class="dialog-actions">
        <button class="dialog-primary" type="submit">확인</button>
      </div>
    </form>
  </dialog>

  <dialog class="entry-dialog" id="entryDialog" aria-labelledby="entryDialogTitle">
    <form class="dialog-card" method="dialog">
      <div class="dialog-header">
        <h2 id="entryDialogTitle">응모 참여</h2>
        <button class="dialog-close" type="button" id="entryDialogClose" aria-label="닫기">×</button>
      </div>

      <div class="dialog-body">
        <label class="field">
          <span class="field-label">사용할 응모권 수 (1-10장)</span>
          <span class="field-label" id="entryRemaining">내 잔여 응모권: 0장</span>
          <select id="ticketCount" name="ticketCount" required>
            <option value="" disabled selected>선택</option>
            <option value="1">1장</option>
            <option value="2">2장</option>
            <option value="3">3장</option>
            <option value="4">4장</option>
            <option value="5">5장</option>
            <option value="6">6장</option>
            <option value="7">7장</option>
            <option value="8">8장</option>
            <option value="9">9장</option>
            <option value="10">10장</option>
          </select>
        </label>

        <label class="field">
          <span class="field-label">전화번호</span>
          <input id="phoneNumber" name="phoneNumber" type="tel" placeholder="010-0000-0000" required />
        </label>
      </div>

      <div class="dialog-actions">
        <button class="dialog-secondary" type="button" id="entryDialogCancel">취소</button>
        <button class="dialog-primary" type="submit">응모하기</button>
      </div>
    </form>
  </dialog>

  <dialog class="entry-dialog" id="purchaseDialog" aria-labelledby="purchaseDialogTitle">
    <form class="dialog-card" method="dialog" id="purchaseForm">
      <div class="dialog-header">
        <h2 id="purchaseDialogTitle">응모권 구매</h2>
        <button class="dialog-close" type="button" id="purchaseDialogClose" aria-label="닫기">×</button>
      </div>

      <div class="dialog-body">
        <label class="field">
          <span class="field-label">구매할 응모권 매수</span>
          <div class="ticket-slider">
            <div class="ticket-selector" role="group" aria-label="응모권 매수 선택">
              <button type="button" class="ticket-option" data-value="1">1</button>
              <button type="button" class="ticket-option" data-value="2">2</button>
              <button type="button" class="ticket-option" data-value="3">3</button>
              <button type="button" class="ticket-option" data-value="4">4</button>
              <button type="button" class="ticket-option" data-value="5">5</button>
              <button type="button" class="ticket-option" data-value="6">6</button>
              <button type="button" class="ticket-option" data-value="7">7</button>
              <button type="button" class="ticket-option" data-value="8">8</button>
              <button type="button" class="ticket-option" data-value="9">9</button>
              <button type="button" class="ticket-option" data-value="10">10</button>
            </div>
            <div class="purchase-remaining" id="purchaseRemaining">잔여 구매 가능: 10장</div>
          </div>
        </label>

        <div class="purchase-total">
          <span class="field-label">결제 금액</span>
          <span class="purchase-amount" id="purchaseAmount">0원</span>
        </div>

        <div class="purchase-payment">
          <div class="field-label">결제 정보</div>
          <div class="payment-methods" role="tablist" aria-label="결제 방식">
            <label class="payment-method is-active">
              <input type="radio" name="paymentMethod" value="card" checked />
              <span>카드결제</span>
            </label>
            <label class="payment-method">
              <input type="radio" name="paymentMethod" value="bank" />
              <span>계좌이체</span>
            </label>
          </div>

          <div class="payment-section is-active" data-method="card">
            <div class="payment-grid">
              <label class="field">
                <span class="field-label">카드번호</span>
                <input id="cardNumber" name="cardNumber" type="text" placeholder="0000-0000-0000-0000" />
              </label>
              <label class="field">
                <span class="field-label">유효기간</span>
                <input id="cardExpiry" name="cardExpiry" type="text" placeholder="MM/YY" />
              </label>
              <label class="field">
                <span class="field-label">CVC</span>
                <input id="cardCvc" name="cardCvc" type="password" placeholder="***" />
              </label>
              <label class="field">
                <span class="field-label">카드 소유자</span>
                <input id="cardHolder" name="cardHolder" type="text" placeholder="이름" />
              </label>
            </div>
          </div>

          <div class="payment-section" data-method="bank">
            <div class="payment-grid">
              <label class="field">
                <span class="field-label">은행 선택</span>
                <select id="bankName" name="bankName">
                  <option value="" disabled selected>선택</option>
                  <option value="kb">국민은행</option>
                  <option value="shinhan">신한은행</option>
                  <option value="woori">우리은행</option>
                  <option value="nh">농협은행</option>
                </select>
              </label>
              <label class="field">
                <span class="field-label">입금자명</span>
                <input id="bankOwner" name="bankOwner" type="text" placeholder="이름" />
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="dialog-actions">
        <button class="dialog-secondary" type="button" id="purchaseDialogCancel">취소</button>
        <button class="dialog-primary" type="submit">결제하기</button>
      </div>
    </form>
  </dialog>

  <dialog class="entry-dialog" id="purchaseAlertDialog" aria-labelledby="purchaseAlertTitle">
    <form class="dialog-card" method="dialog">
      <div class="dialog-header">
        <h2 id="purchaseAlertTitle">알림</h2>
        <button class="dialog-close" type="button" id="purchaseAlertClose" aria-label="닫기">×</button>
      </div>
      <div class="dialog-body">
        <div class="field-label">모든 항목을 입력해주세요.</div>
      </div>
      <div class="dialog-actions">
        <button class="dialog-primary" type="submit">확인</button>
      </div>
    </form>
  </dialog>

  <template id="fundingCardTemplate">
    <article class="funding-card">
      <div class="image-frame" aria-hidden="true">
        <img class="product-image" alt="" />
        <span class="image-placeholder">이미지 예정</span>
      </div>

      <div class="card-body">
        <div class="card-title"></div>
        <div class="card-meta"></div>

        <div class="progress-wrap">
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
          <div class="progress-text"></div>
        </div>

        <button class="join-button" type="button">응모 참여</button>
      </div>

      <div class="overlay" aria-hidden="true">
        <span>마감</span>
      </div>
    </article>
  </template>

  <script src="script.js"></script>
</body>

</html>
